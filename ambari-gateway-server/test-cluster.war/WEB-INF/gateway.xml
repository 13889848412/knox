<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<cluster>
  <resource>
    <source>/namenode/api/v1?{**}</source>
    <target>http://localhost:50070/webhdfs/v1?{**}</target>
    <filter>
      <role>pivot</role>
      <class>org.apache.hadoop.gateway.pivot.HttpClientPivot</class>
    </filter>
  </resource>
  <resource>
    <source>/namenode/api/v1/{path=**}?{**}</source>
    <target>http://localhost:50070/webhdfs/v1/{path=**}?{**}</target>
    <filter>
      <role>rewrite</role>
      <class>org.apache.hadoop.gateway.filter.UrlRewriteFilter</class>
      <param>
        <name>rewrite</name>
        <value>webhdfs://*:*/{path=**} {request.scheme}://{request.host}:{request.port}/{gateway.path}/{cluster.path}/namenode/api/v1/{path=**}</value>
      </param>
    </filter>
    <filter>
      <role>pivot</role>
      <class>org.apache.hadoop.gateway.pivot.HttpClientPivot</class>
    </filter>
  </resource>
</cluster>
